# ============================================
# CHATFLOW PRO BACKEND - Environment Variables
# ============================================

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
PORT=3001

# Backend URL (used for webhooks, e.g., https://api.tudominio.com)
BACKEND_URL=http://localhost:3001

# ============================================
# DATABASE (Supabase PostgreSQL)
# ============================================
USE_DATABASE=false
# When ready to use real database, set to true and configure:
DATABASE_URL=postgresql://postgres:password@supabase-db:5432/postgres

# Supabase Configuration (for self-hosted Supabase)
SUPABASE_URL=http://supabasekong-xxxxx.sslip.io
SUPABASE_SERVICE_KEY=your-service-role-jwt-token
SUPABASE_ANON_KEY=your-anon-jwt-token

# ============================================
# JWT AUTHENTICATION
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# ENCRYPTION (for sensitive data in database)
# ============================================
# 64-character hexadecimal string (32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-char-hex-encryption-key-here-change-in-production

# ============================================
# FLOWISE AI INTEGRATION
# ============================================
# Your Flowise instance URL
FLOWISE_API_URL=https://flowise.tudominio.com/api/v1

# API Key from Flowise (Settings → API Keys)
FLOWISE_API_KEY=sk-flowise-your-api-key-here

# Default Chatflow ID (create a chatflow in Flowise and copy its ID)
FLOWISE_FLOW_ID=your-chatflow-id-here

# ============================================
# EVOLUTION API (WhatsApp via QR)
# ============================================
# Evolution API URL (if using docker-compose: http://evolution-api:8080)
EVOLUTION_API_URL=http://localhost:8080

# Evolution API Key
EVOLUTION_API_KEY=your-evolution-api-key

# ============================================
# CHATWOOT INTEGRATION
# ============================================
# Chatwoot instance URL
CHATWOOT_URL=https://chatwoot.tudominio.com

# Chatwoot API access token (from Profile Settings → Access Token)
CHATWOOT_API_KEY=your-chatwoot-api-token

# ============================================
# CORS
# ============================================
# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# ============================================
# META WHATSAPP API (Optional - for official API)
# ============================================
# META_ACCESS_TOKEN=your-meta-access-token
# META_WABA_ID=your-whatsapp-business-account-id
# META_PHONE_NUMBER_ID=your-phone-number-id
# META_API_VERSION=v21.0

# ============================================
# n8n INTEGRATION (Optional)
# ============================================
# N8N_WEBHOOK_URL=https://n8n.tudominio.com/webhook/chatflow

# ============================================
# DEVELOPMENT
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=debug
