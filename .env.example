# ================================================
# CHATFLOW PRO - ENVIRONMENT VARIABLES
# ================================================

# ================================================
# SUPABASE CONFIGURATION
# ================================================

# URL del proyecto de Supabase
# Ejemplo: https://xyzcompany.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# Clave anónima de Supabase (pública, segura para el frontend)
# Se encuentra en: Supabase Dashboard > Settings > API > Project API keys > anon public
SUPABASE_ANON_KEY=your-anon-key-here

# Clave de servicio de Supabase (PRIVADA, solo para backend)
# Se encuentra en: Supabase Dashboard > Settings > API > Project API keys > service_role
# ⚠️ NUNCA expongas esta clave en el frontend
SUPABASE_SERVICE_KEY=your-service-role-key-here

# ================================================
# FRONTEND ENVIRONMENT (.env for Vite)
# ================================================

# Las mismas variables pero con prefijo VITE_ para el frontend
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ================================================
# META WHATSAPP API (Legacy)
# ================================================

# Phone Number ID de Meta
META_PHONE_NUMBER_ID=your-phone-number-id

# WhatsApp Business Account ID
META_WABA_ID=your-waba-id

# Access Token de Meta
META_ACCESS_TOKEN=your-meta-access-token

# Versión de la API de Meta
META_API_VERSION=v21.0

# ================================================
# EVOLUTION API (Alternative to Meta API)
# ================================================

# URL de la instancia de Evolution API
EVOLUTION_API_URL=https://your-evolution-api.com

# Nombre de la instancia
EVOLUTION_INSTANCE_NAME=chatflow-instance

# API Key de Evolution API
EVOLUTION_API_KEY=your-evolution-api-key

# ================================================
# FLOWISE (AI Chatbot)
# ================================================

# URL de Flowise
FLOWISE_URL=https://your-flowise.com

# API Key de Flowise
FLOWISE_API_KEY=your-flowise-api-key

# ================================================
# CHATWOOT (Optional)
# ================================================

# URL de ChatWoot
CHATWOOT_URL=https://your-chatwoot.com

# API Key de ChatWoot
CHATWOOT_API_KEY=your-chatwoot-api-key

# Inbox ID de ChatWoot
CHATWOOT_INBOX_ID=your-inbox-id

# Account ID de ChatWoot
CHATWOOT_ACCOUNT_ID=your-account-id

# ================================================
# APPLICATION SETTINGS
# ================================================

# Puerto del backend
PORT=3000

# Entorno (development, production, test)
NODE_ENV=development

# JWT Secret para autenticación (si usas JWT propio además de Supabase)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Duración del JWT
JWT_EXPIRATION=7d

# ================================================
# CORS CONFIGURATION
# ================================================

# Orígenes permitidos para CORS (separados por coma)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ================================================
# LOGGING
# ================================================

# Nivel de logging (error, warn, info, debug)
LOG_LEVEL=info

# ================================================
# RATE LIMITING
# ================================================

# Límite de requests por ventana de tiempo
RATE_LIMIT_MAX=100

# Ventana de tiempo en minutos
RATE_LIMIT_WINDOW_MS=15

# ================================================
# ENCRYPTION (para datos sensibles)
# ================================================

# Clave para encriptar tokens y claves sensibles
ENCRYPTION_KEY=your-32-character-encryption-key-here

# ================================================
# EMAIL (para notificaciones)
# ================================================

# SMTP Host
SMTP_HOST=smtp.gmail.com

# SMTP Port
SMTP_PORT=587

# SMTP User
SMTP_USER=your-email@gmail.com

# SMTP Password
SMTP_PASSWORD=your-app-specific-password

# Email remitente
EMAIL_FROM=noreply@chatflow.pro

# ================================================
# STORAGE (para archivos)
# ================================================

# Proveedor de storage (supabase, s3, local)
STORAGE_PROVIDER=supabase

# Si usas S3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1

# ================================================
# WEBHOOKS
# ================================================

# URL base para webhooks (donde está desplegado tu backend)
WEBHOOK_BASE_URL=https://your-backend.com

# Secret para validar webhooks de WhatsApp
WHATSAPP_WEBHOOK_SECRET=your-webhook-secret

# ================================================
# ANALYTICS (opcional)
# ================================================

# Google Analytics ID
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Mixpanel Token
MIXPANEL_TOKEN=your-mixpanel-token

# ================================================
# FEATURE FLAGS
# ================================================

# Habilitar modo demo
ENABLE_DEMO_MODE=false

# Habilitar Analytics Dashboard
ENABLE_ANALYTICS=true

# Habilitar Automations
ENABLE_AUTOMATIONS=true

# Habilitar Bot IA
ENABLE_AI_BOT=true

# Habilitar A/B Testing
ENABLE_AB_TESTING=false

# Habilitar Segmentación Avanzada
ENABLE_SEGMENTATION=false

# ================================================
# NOTAS IMPORTANTES
# ================================================

# 1. Copia este archivo a .env y completa los valores
# 2. NUNCA commitees el archivo .env al repositorio
# 3. Las claves sensibles (SERVICE_KEY, JWT_SECRET, etc.) deben ser únicas por entorno
# 4. En producción, usa variables de entorno del hosting (Vercel, Railway, etc.)
# 5. Actualiza .gitignore para incluir .env

# ================================================
# CÓMO OBTENER LAS CLAVES DE SUPABASE
# ================================================

# 1. Ve a https://app.supabase.com
# 2. Selecciona tu proyecto
# 3. Ve a Settings > API
# 4. Copia:
#    - Project URL → SUPABASE_URL
#    - anon public → SUPABASE_ANON_KEY
#    - service_role → SUPABASE_SERVICE_KEY (¡MANTÉN PRIVADA!)
